# 認知症セルフチェック スクリーニングアプリ

生成AI（ChatGPT）を使って、認知症（軽度認知障害：MCI）の初期症状を自然な音声会話でスクリーニングできるアプリのプロトタイプです。

## 🎯 プロジェクト概要

- **ターゲットユーザー**: 60代〜70代の高齢者
- **スクリーニング時間**: 約3分
- **質問数**: 5〜10問（MMSE基準）
- **インターフェース**: 音声会話（音声入力・音声出力）

## 🚀 主な機能

### ✅ 実装済み機能

1. **音声インターフェース**
   - Web Speech APIによる音声認識
   - Text-to-Speech APIによる音声合成
   - モバイルファーストのレスポンシブデザイン

2. **AI診断プロセス**
   - MMSE基準に基づく質問生成
   - OpenAI APIを利用した自然言語評価
   - フォールバック評価システム

3. **結果表示**
   - スコア表示（30点満点）
   - 3段階評価（normal/mild_concern/requires_attention）
   - 詳細分析と推奨事項

4. **家族共有機能**
   - 安全な結果共有URL生成
   - プライバシー保護（個人情報除外）

### 🔄 今後の実装予定

- [ ] フィードバック機能
- [ ] 再チェック通知機能
- [ ] クリニック紹介機能
- [ ] プレゼント機能（誕生日メッセージ等）
- [ ] 紹介クーポン機能

## 🛠 技術スタック

- **フロントエンド**: Next.js 14 (App Router) + React + TypeScript
- **スタイリング**: Tailwind CSS
- **AI**: OpenAI GPT-4 API
- **音声**: Web Speech API + Speech Synthesis API
- **アイコン**: Lucide React

## 📋 セットアップ手順

### 1. リポジトリのクローン

\`\`\`bash
git clone <repository-url>
cd ninchi-screening-app
\`\`\`

### 2. 依存関係のインストール

\`\`\`bash
npm install
\`\`\`

### 3. 環境変数の設定

\`\`\`bash
cp .env.example .env.local
\`\`\`

`.env.local`ファイルを編集して、OpenAI APIキーを設定してください：

\`\`\`
OPENAI_API_KEY=your_openai_api_key_here
\`\`\`

### 4. 開発サーバーの起動

\`\`\`bash
npm run dev
\`\`\`

アプリケーションは [http://localhost:3000](http://localhost:3000) で利用できます。

## 🎵 音声機能について

### サポートブラウザ

- **Chrome**: フル対応
- **Safari**: フル対応
- **Edge**: フル対応
- **Firefox**: 制限あり（音声認識の対応が限定的）

### 音声認識の許可

初回利用時にマイクの使用許可が必要です。ブラウザの設定でマイクアクセスを許可してください。

## 📱 モバイル対応

- レスポンシブデザイン
- タッチ操作最適化
- 大きめのボタンとフォント
- 高齢者向けアクセシビリティ配慮

## 🔒 プライバシー・セキュリティ

- 音声データは即座に処理され、保存されません
- 個人を特定できる情報は収集しません
- 共有URLには個人情報は含まれません
- 会話内容は暗号化されて処理されます

## ⚠️ 重要な注意事項

- **医療診断ではありません**: このアプリは医療診断ツールではありません
- **参考情報**: 結果は参考程度にお考えください
- **医師への相談**: 心配な症状がある場合は医師にご相談ください
- **定期チェック**: 定期的なチェックをお勧めします

## 🏗 プロジェクト構造

\`\`\`
ninchi-screening-app/
├── app/                          # Next.js App Router
│   ├── api/                      # API Routes
│   │   └── evaluate-screening/   # スクリーニング評価API
│   ├── screening/                # スクリーニングページ
│   ├── result/                   # 結果表示ページ
│   ├── shared-result/            # 共有結果ページ
│   ├── globals.css              # グローバルスタイル
│   ├── layout.tsx               # ルートレイアウト
│   └── page.tsx                 # ホームページ
├── components/                   # React コンポーネント
│   ├── VoiceRecorder.tsx        # 音声録音
│   ├── ScreeningChat.tsx        # チャット形式スクリーニング
│   └── TextToSpeech.tsx         # 音声合成
├── lib/                         # ユーティリティ
│   └── screening.ts             # スクリーニングロジック
└── public/                      # 静的ファイル
\`\`\`

## 🧪 テスト

### 開発テスト手順

1. ホームページの表示確認
2. マイク許可の動作確認
3. 音声認識・音声合成の動作確認
4. スクリーニング質問の進行確認
5. 結果表示の確認
6. 共有機能の確認

### ブラウザ互換性テスト

各対応ブラウザでの動作確認を行ってください。

## 📝 ライセンス

このプロジェクトはプロトタイプです。商用利用前に適切なライセンスを設定してください。

## 🤝 コントリビューション

プロトタイプ段階のため、フィードバックやバグレポートを歓迎します。

## 📞 サポート

技術的な問題や質問がある場合は、適切なサポートチャンネルをご利用ください。 